{"version":3,"sources":["img/GitHub-Mark-32px.png","index.js"],"names":["module","exports","getSize","size","toFixed","App","useState","uploadedFile","setUploadedFile","uploadedFileUrl","setUploadedFileUrl","imgUrl","setImgUrl","convertedFile","setConvertedFile","imageUrl","setImageUrl","reduced","setReduced","formRef","useRef","renderDetails","file","className","name","type","downloadFile","url","a","document","createElement","href","download","body","appendChild","click","target","rel","src","github","alt","ref","onSubmit","e","preventDefault","quality","width","height","format","fromBlob","value","then","blobToURL","defaultValue","min","max","onChange","files","disabled","urlToBlob","current","fromURL","setTimeout","catch","err","alert","placeholder","style","margin","onClick","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.026442e1.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==\"","import React, { useState, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { blobToURL, urlToBlob, fromBlob, fromURL } from \"image-resize-compress\";\nimport github from \"./img/GitHub-Mark-32px.png\";\nimport \"./styles.css\";\n\nconst getSize = (size) => (size / 1024).toFixed(3);\n\nfunction App() {\n  const [uploadedFile, setUploadedFile] = useState();\n  const [uploadedFileUrl, setUploadedFileUrl] = useState();\n\n  const [imgUrl, setImgUrl] = useState();\n\n  const [convertedFile, setConvertedFile] = useState();\n  const [imageUrl, setImageUrl] = useState();\n  const [reduced, setReduced] = useState(null);\n  const formRef = useRef();\n\n  const renderDetails = (file) => (\n    <div className=\"details\">\n      {file.name && (\n        <>\n          <span>Name: {file.name}</span>\n          <br />\n        </>\n      )}\n      {file.size && (\n        <>\n          <span>Size: {`${getSize(file.size)}kb`}</span>\n          <br />\n        </>\n      )}\n      {file.type && (\n        <>\n          <span>Format: {file.type}</span>\n          <br />\n        </>\n      )}\n    </div>\n  );\n\n  const renderReduced = () =>\n    reduced >= 0 ? (\n      <span className=\"reduced\">Reduced: {`${reduced}kb`}</span>\n    ) : (\n      <span className=\"increased\">\n        Increased: {`${reduced * -1}kb`}\n        <br />\n        Try changing image format or quality\n      </span>\n    );\n  const uploadURL = (e) => {\n    e.preventDefault();\n    let size;\n    setUploadedFileUrl(imgUrl);\n    urlToBlob(imgUrl).then((file) => {\n      setUploadedFile(file);\n      size = file.size;\n    });\n\n    const { quality, width, height, format } = formRef.current;\n\n    fromURL(imgUrl, quality.value, width.value, height.value, format.value)\n      .then((file) => {\n        blobToURL(file).then((url) => setImageUrl(url));\n        setConvertedFile(file);\n        setTimeout(() => {\n          setReduced(getSize(size - file.size));\n        }, 100);\n      })\n      .catch((err) => alert(err));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { quality, width, height, format } = e.target;\n    fromBlob(\n      uploadedFile,\n      quality.value,\n      width.value,\n      height.value,\n      format.value\n    ).then((file) => {\n      blobToURL(file).then((url) => setImageUrl(url));\n      setConvertedFile(file);\n      setReduced(getSize(uploadedFile.size - file.size));\n    });\n  };\n\n  const fileChangedHandler = (e) => {\n    const file = e.target.files[0];\n    blobToURL(file).then((url) => setUploadedFileUrl(url));\n    setUploadedFile(file);\n  };\n\n  const downloadFile = (url) => {\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = uploadedFile.name ?? \"image.png\";\n    document.body.appendChild(a);\n    a.click();\n  };\n\n  return (\n    <div className=\"app\">\n      <h1>\n        <a\n          href=\"https://www.npmjs.com/package/image-resize-compress\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Image Resizer, Compressor and Converter\n        </a>\n        <a href=\"https://github.com/alefduarte/image-resize-compress\">\n          <img className=\"github-icon\" src={github} alt=\"github\" />\n        </a>\n      </h1>\n      <h3>\n        Sample page for demonstrating{\" \"}\n        <code className=\"tag\">image-resize-compress</code> package.\n        <br />\n        You may check more about this package{\" \"}\n        <a\n          href=\"https://www.npmjs.com/package/image-resize-compress\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          here\n        </a>\n      </h3>\n      <form ref={formRef} onSubmit={handleSubmit}>\n        <label>\n          Quality:\n          <input\n            type=\"number\"\n            name=\"quality\"\n            defaultValue={90}\n            min=\"1\"\n            max=\"100\"\n          />\n        </label>\n        <label>\n          Width:\n          <input name=\"width\" type=\"text\" defaultValue={0} />\n        </label>\n        <label>\n          Height:\n          <input name=\"height\" type=\"text\" defaultValue={0} />\n        </label>\n        <label>\n          Format:\n          <select defaultValue=\"webp\" name=\"format\">\n            <option value=\"png\">png</option>\n            <option value=\"webp\">webp</option>\n            <option value=\"bmp\">bmp</option>\n            <option value=\"jpeg\">jpeg</option>\n          </select>\n        </label>\n        <br />\n        <input type=\"file\" onChange={fileChangedHandler} />\n        <button type=\"submit\" disabled={!uploadedFile}>\n          Upload\n        </button>\n      </form>\n      <form onSubmit={uploadURL}>\n        <label>or URL:</label>\n        <br />\n        <input\n          className=\"url-input\"\n          value={imgUrl}\n          onChange={(e) => setImgUrl(e.target.value)}\n          type=\"text\"\n          placeholder=\"Enter the image url\"\n        />\n        <button type=\"submit\" disabled={!imgUrl}>\n          From URL\n        </button>\n      </form>\n      <br />\n      <div className=\"preview\">\n        {uploadedFileUrl && uploadedFile && (\n          <div className=\"image\">\n            <h2>Before:</h2>\n            <img src={uploadedFileUrl} alt=\"\"></img>\n            <br />\n            {renderDetails(uploadedFile)}\n            <br />\n            <button\n              style={{ margin: \"1rem 0px\" }}\n              onClick={() => downloadFile(uploadedFileUrl)}\n            >\n              Download\n            </button>\n          </div>\n        )}\n        {imageUrl && convertedFile && (\n          <div className=\"image\">\n            <h2>After:</h2>\n            <img src={imageUrl} alt=\"\"></img>\n            <br />\n            {uploadedFile && renderReduced()}\n            <br />\n            {renderDetails(convertedFile)}\n            <br />\n            <button\n              style={{ margin: \"1rem 0px\" }}\n              onClick={() => downloadFile(imageUrl)}\n            >\n              Download\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}